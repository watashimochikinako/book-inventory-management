<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Select</Section>
    </title>
</head>

<body>
    <h1>商品選択</h1>
    <form action="/process-payment" method="post">
        <!-- CSRFトークン -->
        <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />

        <label for="priceId">商品を選択:</label>
        <select id="priceId" name="priceId" required>
            <option value="" disabled selected>選択してください</option>
            <option th:each="product : ${products}" th:value="${product.priceId}" th:text="${product.name}">
            </option>
        </select>

        <label for="quantity">数量:</label>
        <input type="number" id="quantity" name="quantity" min="1" required>

        <button type="submit">決済へ進む</button>
    </form>
</body>

</html>